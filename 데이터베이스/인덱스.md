# 인덱스

우리가 데이터베이스에서 특정 데이터를 찾을 때 데이터베이스 내의 모든 데이터를 조회하면서 찾으면 너무 오래 걸리니 데이터들을 특정 조건에 맞게 정렬해 놓은 자료구조를 인덱스라고 합니다.

## 인덱스란

인덱스의 사전적 정의는 **색인**이며 **어떤 내용에 대해 빨리 찾아보기 위해 먼저 보는 것**입니다.

예시로는 책에서의 목차라고 보시면 됩니다.

보디빌딩 백과의 목차

![KakaoTalk_20230727_001757186.jpg](./인덱스 사진/%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/KakaoTalk_20230727_001757186.jpg)

책에서 벤치프레스를 보고 싶은데 한페이지 한페이지씩 보면서 찾으면 너무 오래 걸리니 목차를 보고 찾아 가는게 훨씬 빠릅니다.

가슴 → 가슴 운동 → 벤치 프레스 328p

위와 같이 찾고자 하는 데이터가 특정 조건에 맞게 정렬되어 있고 데이터 각각의 위치도 저장되어 있는걸 인덱스라고 합니다.

### 인덱스의 특징

- 최신 정렬을 유지해야 한다.
- 데이터베이스의 하나의 객체이다.
- 그렇기에 공간을 차지함.

최신 정렬을 유지한다: 인덱스의 역할을 하기 위해서 데이터의 생성, 수정, 삭제를 반영해서 최신의 상태를 유지해야 함.

공간을 차지한다: 목차때문에 책이 더 두꺼워 지듯이 데이터베이스에서 공간을 차지하기에 

무분별하게 생성하면 성능 저하를 일으킨다.

### 인덱스 알고리즘

인덱스의 알고리즘은 인덱스에 데이터를 저장하거나 찾을 때 사용하는 알고리즘입니다.

![Untitled](%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/Untitled.png)

여기서 데이터를 찾을 때 절반씩 잘라서 찾으면 아주 유용합니다.

예를 들어 7을 찾는다면 1부터 찾는 것 보다. 

절반씩 잘라서 4보다 큰가? → 6보다 큰가? → 7

Binary Search Algorithm

![Untitled](%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/Untitled%201.png)

4보다 큰가? → 6보다 큰가? → 7이다.

이렇게 절반씩 잘라가며 찾기 편합니다.

여기서 업그레이드를 하면

![Untitled](%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/Untitled%202.png)

트리에서의 각각의 노드에 데이터를 여러개를 넣는 겁니다.

![Untitled](%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/Untitled%203.png)

 4보다 작은가? 4보다 크고 8보다 작은가? 8보다 큰가?

이런 식으로 3/2씩 잘라가며 찾을 수 있습니다.

여기서 한번 더 업그레이드를 하면

![1.png](%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%83%E1%85%A6%E1%86%A8%E1%84%89%E1%85%B3%20a04c1e9c58304a15995ebcaf5547d481/1.png)

데이터를 맨 밑에만 보관을 하며 기존의 기준이 되는 노드에는 가이드 라인만 제공

이렇게 하면 범위 검색이 아주 쉽다.

4~8을 찾는다면 B-Tree에서는 2번 타서 4를 찾고

2번타서 5를 찾고 이랬을 텐데

B+Tree에서는 2번타서 4를 찾고 오른쪽으로 가면서 8까지 찾을 수 있다.
